<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>QuakemlUtils.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">pdl</a> &gt; <a href="index.source.html" class="el_package">gov.usgs.earthquake.eids</a> &gt; <span class="el_source">QuakemlUtils.java</span></div><h1>QuakemlUtils.java</h1><pre class="source lang-java linenums">package gov.usgs.earthquake.eids;

import java.math.BigDecimal;
import java.math.BigInteger;
import java.util.Date;
import java.util.Iterator;
import java.util.List;

import org.quakeml_1_2.CreationInfo;
import org.quakeml_1_2.Event;
import org.quakeml_1_2.IntegerQuantity;
import org.quakeml_1_2.InternalEvent;
import org.quakeml_1_2.Magnitude;
import org.quakeml_1_2.MomentTensor;
import org.quakeml_1_2.Origin;
import org.quakeml_1_2.Quakeml;
import org.quakeml_1_2.RealQuantity;
import org.quakeml_1_2.ScenarioEvent;
import org.quakeml_1_2.TimeQuantity;
import org.quakeml_1_2.FocalMechanism;
import org.quakeml_1_2.EventParameters;

/**
 * Utility methods for ANSS Quakeml objects.
 */
<span class="nc" id="L26">public class QuakemlUtils {</span>

	/**
	 * Find the first event in a message.
	 *
	 * If a quakeml event object does not exist, check for the first internal or
	 * scenario event.
	 *
	 * @param eventParameters
	 * @return
	 */
	public static Event getFirstEvent(final EventParameters eventParameters) {
		// only process first event
<span class="pc bpc" id="L39" title="1 of 2 branches missed.">		if (eventParameters.getEvents().size() &gt; 0) {</span>
			// found actual event
<span class="fc" id="L41">			return eventParameters.getEvents().get(0);</span>
		} else {
			// check for internal/scenario events
<span class="nc" id="L44">			List&lt;Object&gt; anies = eventParameters.getAnies();</span>
<span class="nc" id="L45">			Iterator&lt;Object&gt; anyIter = anies.iterator();</span>
<span class="nc bnc" id="L46" title="All 2 branches missed.">			while (anyIter.hasNext()) {</span>
<span class="nc" id="L47">				Object next = anyIter.next();</span>
<span class="nc bnc" id="L48" title="All 2 branches missed.">				if (next instanceof InternalEvent) {</span>
					// found internal event
<span class="nc" id="L50">					return (InternalEvent) next;</span>
<span class="nc bnc" id="L51" title="All 2 branches missed.">				} else if (next instanceof ScenarioEvent) {</span>
					// found scenario event
<span class="nc" id="L53">					return (ScenarioEvent) next;</span>
				}
<span class="nc" id="L55">			}</span>
		}
		// no event found
<span class="nc" id="L58">		return null;</span>
	}

	/**
	 * Find the preferred Origin in an Event.
	 *
	 * @param event
	 * @return Origin with publicID equal to event.getPreferredOriginID(), or null
	 *         if not found.
	 */
	public static Origin getPreferredOrigin(final Event event) {
<span class="fc" id="L69">		return getOrigin(event, event.getPreferredOriginID());</span>
	}

	/**
	 * Find a specific Origin in an Event.
	 *
	 * @param event event to search
	 * @param id    publicID to find
	 * @return Origin with publicID equal to id, or null if not found.
	 */
	public static Origin getOrigin(final Event event, final String id) {
<span class="fc bfc" id="L80" title="All 2 branches covered.">		if (id != null) {</span>
<span class="fc" id="L81">			Iterator&lt;Origin&gt; iter = event.getOrigins().iterator();</span>
<span class="pc bpc" id="L82" title="1 of 2 branches missed.">			while (iter.hasNext()) {</span>
<span class="fc" id="L83">				Origin next = iter.next();</span>
<span class="fc" id="L84">				String originId = next.getPublicID();</span>
<span class="pc bpc" id="L85" title="1 of 4 branches missed.">				if (originId != null &amp;&amp; originId.equals(id)) {</span>
<span class="fc" id="L86">					return next;</span>
				}
<span class="fc" id="L88">			}</span>
		}
<span class="fc" id="L90">		return null;</span>
	}

	/**
	 * Find the preferred Magnitude in an Event.
	 *
	 * @param event event to search
	 * @return Magnitude with publicID equal to event.getPreferredMagnitudeID(), or
	 *         null if not found.
	 */
	public static Magnitude getPreferredMagnitude(final Event event) {
<span class="fc" id="L101">		return getMagnitude(event, event.getPreferredMagnitudeID());</span>
	}

	/**
	 * Find a specific Magnitude in an event.
	 *
	 * @param event event to search
	 * @param id    publicID to find.
	 * @return Magnitude with publicID equal to id, or null if not found.
	 */
	public static Magnitude getMagnitude(final Event event, final String id) {
<span class="fc bfc" id="L112" title="All 2 branches covered.">		if (id != null) {</span>
<span class="fc" id="L113">			Iterator&lt;Magnitude&gt; iter = event.getMagnitudes().iterator();</span>
<span class="pc bpc" id="L114" title="1 of 2 branches missed.">			while (iter.hasNext()) {</span>
<span class="fc" id="L115">				Magnitude next = iter.next();</span>
<span class="fc" id="L116">				String magnitudeId = next.getPublicID();</span>
<span class="pc bpc" id="L117" title="2 of 4 branches missed.">				if (magnitudeId != null &amp;&amp; magnitudeId.equals(id)) {</span>
<span class="fc" id="L118">					return next;</span>
				}
<span class="nc" id="L120">			}</span>
		}
<span class="fc" id="L122">		return null;</span>
	}

	/**
	 * Find a specific FocalMechanism in an event.
	 *
	 * @param event event to search
	 * @param id    publicID to find.
	 * @return FocalMechanism with publicID equal to id, or null if not found.
	 */
	public static FocalMechanism getFocalMechanism(final Event event, final String id) {
<span class="nc bnc" id="L133" title="All 2 branches missed.">		if (id != null) {</span>
<span class="nc" id="L134">			Iterator&lt;FocalMechanism&gt; iter = event.getFocalMechanisms().iterator();</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">			while (iter.hasNext()) {</span>
<span class="nc" id="L136">				FocalMechanism next = iter.next();</span>
<span class="nc" id="L137">				String mechId = next.getPublicID();</span>
<span class="nc bnc" id="L138" title="All 4 branches missed.">				if (mechId != null &amp;&amp; mechId.equals(id)) {</span>
<span class="nc" id="L139">					return next;</span>
				}
<span class="nc" id="L141">			}</span>
		}
<span class="nc" id="L143">		return null;</span>
	}

	/**
	 * Flatten multiple creation info objects, but using the most specific (at end
	 * of list) value that is not null.
	 *
	 * @param infos
	 * @return a CreationInfo object with the most specific properties (later in
	 *         arguments list), which may be null.
	 */
	public static CreationInfo getCreationInfo(final CreationInfo... infos) {
<span class="nc" id="L155">		CreationInfo info = new CreationInfo();</span>

<span class="nc bnc" id="L157" title="All 2 branches missed.">		for (int i = 0, len = infos.length; i &lt; len; i++) {</span>
<span class="nc" id="L158">			CreationInfo next = infos[i];</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">			if (next == null) {</span>
<span class="nc" id="L160">				continue;</span>
			}

<span class="nc bnc" id="L163" title="All 2 branches missed.">			if (next.getAgencyID() != null) {</span>
				// set agencyid and agency uri at same time
<span class="nc" id="L165">				info.setAgencyID(next.getAgencyID());</span>
<span class="nc" id="L166">				info.setAgencyURI(next.getAgencyURI());</span>
			}

<span class="nc bnc" id="L169" title="All 2 branches missed.">			if (next.getAuthor() != null) {</span>
				// author and author uri at same time
<span class="nc" id="L171">				info.setAuthor(next.getAuthor());</span>
<span class="nc" id="L172">				info.setAuthorURI(next.getAuthorURI());</span>
			}

<span class="nc bnc" id="L175" title="All 2 branches missed.">			if (next.getCreationTime() != null) {</span>
<span class="nc" id="L176">				info.setCreationTime(next.getCreationTime());</span>
			}

<span class="nc bnc" id="L179" title="All 2 branches missed.">			if (next.getVersion() != null) {</span>
<span class="nc" id="L180">				info.setVersion(next.getVersion());</span>
			}
		}

<span class="nc" id="L184">		return info;</span>
	}

	/**
	 * @param value
	 * @return value.getValue(), or null if value == null.
	 */
	public static BigDecimal getValue(final RealQuantity value) {
<span class="pc bpc" id="L192" title="1 of 2 branches missed.">		if (value == null) {</span>
<span class="nc" id="L193">			return null;</span>
		} else {
<span class="fc" id="L195">			return value.getValue();</span>
		}
	}

	/**
	 * @param value
	 * @return value.getValue(), or null if value == null.
	 */
	public static BigInteger getValue(final IntegerQuantity value) {
<span class="nc bnc" id="L204" title="All 2 branches missed.">		if (value == null) {</span>
<span class="nc" id="L205">			return null;</span>
		} else {
<span class="nc" id="L207">			return value.getValue();</span>
		}
	}

	/**
	 * @param value
	 * @return value.getValue(), or null if value == null.
	 */
	public static Date getValue(final TimeQuantity value) {
<span class="nc bnc" id="L216" title="All 2 branches missed.">		if (value == null) {</span>
<span class="nc" id="L217">			return null;</span>
		} else {
<span class="nc" id="L219">			return value.getValue();</span>
		}
	}

	public static String getMagnitudeType(final String magnitudeType) {
<span class="pc bpc" id="L224" title="1 of 2 branches missed.">		if (magnitudeType == null) {</span>
<span class="nc" id="L225">			return null;</span>
		}

<span class="fc" id="L228">		return magnitudeType.toLowerCase();</span>
	}

	/**
	 * @return true if list is not null and not empty.
	 */
	private static boolean listHasData(final List&lt;?&gt; list) {
<span class="pc bpc" id="L235" title="1 of 4 branches missed.">		if (list != null &amp;&amp; list.size() &gt; 0) {</span>
<span class="fc" id="L236">			return true;</span>
		}
<span class="fc" id="L238">		return false;</span>
	}

	/**
	 * Clear a list if it is not null and not empty.
	 */
	private static void listRemoveData(final List&lt;?&gt; list) {
<span class="nc bnc" id="L245" title="All 4 branches missed.">		if (list != null &amp;&amp; list.size() &gt; 0) {</span>
<span class="nc" id="L246">			list.clear();</span>
		}
<span class="nc" id="L248">	}</span>

	/**
	 * Check if an event has phase data.
	 *
	 * &lt;ul&gt;
	 * &lt;li&gt;event.getPicks()&lt;/li&gt;
	 * &lt;li&gt;event.getAmplitudes()&lt;/li&gt;
	 * &lt;li&gt;event.getStationMagnitudes()&lt;/li&gt;
	 * &lt;li&gt;event.getOrigins()
	 * &lt;ul&gt;
	 * &lt;li&gt;origin.getArrivals()&lt;/li&gt;
	 * &lt;/ul&gt;
	 * &lt;/li&gt;
	 * &lt;li&gt;event.getMagnitudes()
	 * &lt;ul&gt;
	 * &lt;li&gt;magnitude.getStationMagnitudeContributions()&lt;/li&gt;
	 * &lt;/ul&gt;
	 * &lt;/li&gt;
	 * &lt;/ul&gt;
	 *
	 * @param event event to search.
	 * @return true if phase data found, false otherwise.
	 */
	public static boolean hasPhaseData(final Event event) {
		// event level phase data
<span class="pc bpc" id="L274" title="1 of 4 branches missed.">		if (listHasData(event.getPicks()) || listHasData(event.getAmplitudes())</span>
<span class="pc bpc" id="L275" title="1 of 2 branches missed.">				|| listHasData(event.getStationMagnitudes())) {</span>
<span class="fc" id="L276">			return true;</span>
		}

		// origin level phase data
<span class="pc bpc" id="L280" title="1 of 2 branches missed.">		if (event.getOrigins() != null) {</span>
<span class="fc" id="L281">			Iterator&lt;Origin&gt; iter = event.getOrigins().iterator();</span>
<span class="fc bfc" id="L282" title="All 2 branches covered.">			while (iter.hasNext()) {</span>
<span class="fc" id="L283">				Origin next = iter.next();</span>
<span class="pc bpc" id="L284" title="1 of 2 branches missed.">				if (listHasData(next.getArrivals())) {</span>
<span class="nc" id="L285">					return true;</span>
				}
<span class="fc" id="L287">			}</span>
		}

		// magnitude level phase data
<span class="pc bpc" id="L291" title="1 of 2 branches missed.">		if (event.getMagnitudes() != null) {</span>
<span class="fc" id="L292">			Iterator&lt;Magnitude&gt; iter = event.getMagnitudes().iterator();</span>
<span class="fc bfc" id="L293" title="All 2 branches covered.">			while (iter.hasNext()) {</span>
<span class="fc" id="L294">				Magnitude next = iter.next();</span>
<span class="pc bpc" id="L295" title="1 of 2 branches missed.">				if (listHasData(next.getStationMagnitudeContributions())) {</span>
<span class="nc" id="L296">					return true;</span>
				}
<span class="fc" id="L298">			}</span>
		}

		// haven't found phase data
<span class="fc" id="L302">		return false;</span>
	}

	/**
	 * Similar to {@link #hasPhaseData(Event)}, but empties any lists that have
	 * phase data. Also removes &amp;lt;waveformID&amp;gt; elements from focalMechanism.
	 *
	 * @param event event to clear.
	 */
	public static void removePhaseData(final Event event) {
		// event level phase data
<span class="nc" id="L313">		listRemoveData(event.getPicks());</span>
<span class="nc" id="L314">		listRemoveData(event.getAmplitudes());</span>
<span class="nc" id="L315">		listRemoveData(event.getStationMagnitudes());</span>

		// origin level phase data
<span class="nc bnc" id="L318" title="All 2 branches missed.">		if (event.getOrigins() != null) {</span>
<span class="nc" id="L319">			Iterator&lt;Origin&gt; iter = event.getOrigins().iterator();</span>
<span class="nc bnc" id="L320" title="All 2 branches missed.">			while (iter.hasNext()) {</span>
<span class="nc" id="L321">				Origin next = iter.next();</span>
<span class="nc" id="L322">				listRemoveData(next.getArrivals());</span>
<span class="nc" id="L323">			}</span>
		}

		// magnitude level phase data
<span class="nc bnc" id="L327" title="All 2 branches missed.">		if (event.getMagnitudes() != null) {</span>
<span class="nc" id="L328">			Iterator&lt;Magnitude&gt; iter = event.getMagnitudes().iterator();</span>
<span class="nc bnc" id="L329" title="All 2 branches missed.">			while (iter.hasNext()) {</span>
<span class="nc" id="L330">				Magnitude next = iter.next();</span>
<span class="nc" id="L331">				listRemoveData(next.getStationMagnitudeContributions());</span>
<span class="nc" id="L332">			}</span>
		}

		// additionally, remove waveformIDs from focal mechanisms
<span class="nc bnc" id="L336" title="All 2 branches missed.">		if (event.getFocalMechanisms() != null) {</span>
<span class="nc" id="L337">			Iterator&lt;FocalMechanism&gt; iter = event.getFocalMechanisms().iterator();</span>
<span class="nc bnc" id="L338" title="All 2 branches missed.">			while (iter.hasNext()) {</span>
<span class="nc" id="L339">				FocalMechanism next = iter.next();</span>
<span class="nc" id="L340">				listRemoveData(next.getWaveformIDs());</span>
<span class="nc" id="L341">			}</span>
		}
<span class="nc" id="L343">	}</span>

	/**
	 * Extract the preferred origin and magnitude from the first event in a quakeml
	 * message.
	 *
	 * @param q the quakeml message with a preferred origin.
	 * @return a new Quakeml object.
	 */
	public static Quakeml getLightweightOrigin(final Quakeml q) {
<span class="fc" id="L353">		Quakeml quakeml = new Quakeml();</span>

<span class="fc" id="L355">		EventParameters oldEventParameters = q.getEventParameters();</span>
<span class="fc" id="L356">		EventParameters eventParameters = shallowClone(oldEventParameters);</span>
<span class="fc" id="L357">		quakeml.setEventParameters(eventParameters);</span>

<span class="fc" id="L359">		Event oldEvent = getFirstEvent(q.getEventParameters());</span>
<span class="fc" id="L360">		Event event = shallowClone(oldEvent);</span>
<span class="fc" id="L361">		eventParameters.getEvents().add(event);</span>

<span class="fc" id="L363">		Origin oldOrigin = getPreferredOrigin(oldEvent);</span>
<span class="pc bpc" id="L364" title="1 of 2 branches missed.">		if (oldOrigin == null) {</span>
<span class="nc" id="L365">			return null;</span>
		}
<span class="fc" id="L367">		Origin origin = shallowClone(oldOrigin);</span>
<span class="fc" id="L368">		event.getOrigins().add(origin);</span>
<span class="fc" id="L369">		event.setPreferredOriginID(origin.getPublicID());</span>

<span class="fc" id="L371">		Magnitude oldMagnitude = getPreferredMagnitude(oldEvent);</span>
<span class="pc bpc" id="L372" title="1 of 2 branches missed.">		if (oldMagnitude != null) {</span>
			// magnitude is not required for origin
<span class="nc" id="L374">			Magnitude magnitude = shallowClone(oldMagnitude);</span>
<span class="nc" id="L375">			event.getMagnitudes().add(magnitude);</span>
<span class="nc" id="L376">			event.setPreferredMagnitudeID(magnitude.getPublicID());</span>
		}

<span class="fc" id="L379">		return quakeml;</span>
	}

	/**
	 * Extract a focalMechanism, triggering origin, derived origin, and derived
	 * magnitude from the first event in a quakeml message.
	 *
	 * @param q                the quakeml message with a focalMechanism
	 * @param focalMechanismId the focalMechanism to extract.
	 * @return a new Quakeml object.
	 */
	public static Quakeml getLightweightFocalMechanism(final Quakeml q, final String focalMechanismId) {
<span class="nc" id="L391">		Quakeml quakeml = new Quakeml();</span>

<span class="nc" id="L393">		EventParameters oldEventParameters = q.getEventParameters();</span>
<span class="nc" id="L394">		EventParameters eventParameters = shallowClone(oldEventParameters);</span>
<span class="nc" id="L395">		quakeml.setEventParameters(eventParameters);</span>

<span class="nc" id="L397">		Event oldEvent = getFirstEvent(q.getEventParameters());</span>
<span class="nc" id="L398">		Event event = shallowClone(oldEvent);</span>
<span class="nc" id="L399">		eventParameters.getEvents().add(event);</span>

<span class="nc" id="L401">		FocalMechanism oldMech = getFocalMechanism(oldEvent, focalMechanismId);</span>
<span class="nc" id="L402">		event.getFocalMechanisms().add(shallowClone(oldMech));</span>

		// add triggering origin
<span class="nc" id="L405">		Origin triggeringOrigin = getOrigin(oldEvent, oldMech.getTriggeringOriginID());</span>
<span class="nc bnc" id="L406" title="All 2 branches missed.">		if (triggeringOrigin != null) {</span>
<span class="nc" id="L407">			event.getOrigins().add(shallowClone(triggeringOrigin));</span>
		}

		// pull in derived origin and magnitude if present
<span class="nc" id="L411">		MomentTensor tensor = oldMech.getMomentTensor();</span>
<span class="nc bnc" id="L412" title="All 2 branches missed.">		if (tensor != null) {</span>
<span class="nc" id="L413">			Origin derivedOrigin = getOrigin(oldEvent, tensor.getDerivedOriginID());</span>
<span class="nc bnc" id="L414" title="All 2 branches missed.">			if (derivedOrigin != null) {</span>
<span class="nc" id="L415">				event.getOrigins().add(shallowClone(derivedOrigin));</span>
			}
<span class="nc" id="L417">			Magnitude momentMagnitude = getMagnitude(oldEvent, tensor.getMomentMagnitudeID());</span>
<span class="nc bnc" id="L418" title="All 2 branches missed.">			if (momentMagnitude != null) {</span>
<span class="nc" id="L419">				event.getMagnitudes().add(shallowClone(momentMagnitude));</span>
			}
		}

<span class="nc" id="L423">		return quakeml;</span>
	}

	/**
	 * Create a copy of an event parameters object.
	 *
	 * omits anies, events, and other attributes.
	 *
	 * @param oldEventParameters
	 * @return a new EventParameters object.
	 */
	public static EventParameters shallowClone(final EventParameters oldEventParameters) {
<span class="fc" id="L435">		EventParameters eventParameters = new EventParameters();</span>
<span class="fc" id="L436">		eventParameters.getComments().addAll(oldEventParameters.getComments());</span>
<span class="fc" id="L437">		eventParameters.setCreationInfo(oldEventParameters.getCreationInfo());</span>
<span class="fc" id="L438">		eventParameters.setDescription(oldEventParameters.getDescription());</span>
<span class="fc" id="L439">		eventParameters.setPublicID(oldEventParameters.getPublicID());</span>
<span class="fc" id="L440">		return eventParameters;</span>
	}

	/**
	 * Create a copy of an event object.
	 *
	 * omits amplitudes, anies, event descriptions, mechanisms, magnitudes, origins,
	 * other attributes, picks, preferred*ID, and station magnitudes.
	 *
	 * @param oldEvent
	 * @return a new Event object.
	 */
	public static Event shallowClone(final Event oldEvent) {
<span class="fc" id="L453">		Event event = new Event();</span>
<span class="fc" id="L454">		event.getComments().addAll(oldEvent.getComments());</span>
<span class="fc" id="L455">		event.setCreationInfo(oldEvent.getCreationInfo());</span>
<span class="fc" id="L456">		event.setDataid(oldEvent.getDataid());</span>
<span class="fc" id="L457">		event.setDatasource(oldEvent.getDatasource());</span>
<span class="fc" id="L458">		event.setEventid(oldEvent.getEventid());</span>
<span class="fc" id="L459">		event.setEventsource(oldEvent.getEventsource());</span>
<span class="fc" id="L460">		event.setPublicID(oldEvent.getPublicID());</span>
<span class="fc" id="L461">		event.setType(oldEvent.getType());</span>
<span class="fc" id="L462">		event.setTypeCertainty(oldEvent.getTypeCertainty());</span>
<span class="fc" id="L463">		return event;</span>
	}

	/**
	 * Create a copy of an origin object.
	 *
	 * omits anies, arrivals, and other attributes.
	 *
	 * @param oldOrigin
	 * @return a new Origin object.
	 */
	public static Origin shallowClone(final Origin oldOrigin) {
<span class="fc" id="L475">		Origin origin = new Origin();</span>
<span class="fc" id="L476">		origin.getComments().addAll(oldOrigin.getComments());</span>
<span class="fc" id="L477">		origin.getCompositeTimes().addAll(oldOrigin.getCompositeTimes());</span>
<span class="fc" id="L478">		origin.setCreationInfo(oldOrigin.getCreationInfo());</span>
<span class="fc" id="L479">		origin.setDataid(oldOrigin.getDataid());</span>
<span class="fc" id="L480">		origin.setDatasource(oldOrigin.getDatasource());</span>
<span class="fc" id="L481">		origin.setDepth(oldOrigin.getDepth());</span>
<span class="fc" id="L482">		origin.setDepthType(oldOrigin.getDepthType());</span>
<span class="fc" id="L483">		origin.setEarthModelID(oldOrigin.getEarthModelID());</span>
<span class="fc" id="L484">		origin.setEpicenterFixed(oldOrigin.getEpicenterFixed());</span>
<span class="fc" id="L485">		origin.setEvaluationMode(oldOrigin.getEvaluationMode());</span>
<span class="fc" id="L486">		origin.setEvaluationStatus(oldOrigin.getEvaluationStatus());</span>
<span class="fc" id="L487">		origin.setEventid(oldOrigin.getEventid());</span>
<span class="fc" id="L488">		origin.setEventsource(oldOrigin.getEventsource());</span>
<span class="fc" id="L489">		origin.setLatitude(oldOrigin.getLatitude());</span>
<span class="fc" id="L490">		origin.setLongitude(oldOrigin.getLongitude());</span>
<span class="fc" id="L491">		origin.setMethodID(oldOrigin.getMethodID());</span>
<span class="fc" id="L492">		origin.setOriginUncertainty(oldOrigin.getOriginUncertainty());</span>
<span class="fc" id="L493">		origin.setPublicID(oldOrigin.getPublicID());</span>
<span class="fc" id="L494">		origin.setQuality(oldOrigin.getQuality());</span>
<span class="fc" id="L495">		origin.setReferenceSystemID(oldOrigin.getReferenceSystemID());</span>
<span class="fc" id="L496">		origin.setRegion(oldOrigin.getRegion());</span>
<span class="fc" id="L497">		origin.setTime(oldOrigin.getTime());</span>
<span class="fc" id="L498">		origin.setTimeFixed(oldOrigin.getTimeFixed());</span>
<span class="fc" id="L499">		origin.setType(oldOrigin.getType());</span>
<span class="fc" id="L500">		return origin;</span>
	}

	/**
	 * Create a copy of a magnitude object.
	 *
	 * omits anies, other attributes, and station magnitude contributions.
	 *
	 * @param oldMagnitude
	 * @return a new Magnitude object.
	 */
	public static Magnitude shallowClone(final Magnitude oldMagnitude) {
<span class="nc" id="L512">		Magnitude magnitude = new Magnitude();</span>
<span class="nc" id="L513">		magnitude.setAzimuthalGap(oldMagnitude.getAzimuthalGap());</span>
<span class="nc" id="L514">		magnitude.getComments().addAll(oldMagnitude.getComments());</span>
<span class="nc" id="L515">		magnitude.setCreationInfo(getCreationInfo(oldMagnitude.getCreationInfo()));</span>
<span class="nc" id="L516">		magnitude.setDataid(oldMagnitude.getDataid());</span>
<span class="nc" id="L517">		magnitude.setDatasource(oldMagnitude.getDatasource());</span>
<span class="nc" id="L518">		magnitude.setEvaluationMode(oldMagnitude.getEvaluationMode());</span>
<span class="nc" id="L519">		magnitude.setEvaluationStatus(oldMagnitude.getEvaluationStatus());</span>
<span class="nc" id="L520">		magnitude.setEventid(oldMagnitude.getEventid());</span>
<span class="nc" id="L521">		magnitude.setEventsource(oldMagnitude.getEventsource());</span>
<span class="nc" id="L522">		magnitude.setMag(oldMagnitude.getMag());</span>
<span class="nc" id="L523">		magnitude.setMethodID(oldMagnitude.getMethodID());</span>
<span class="nc" id="L524">		magnitude.setOriginID(oldMagnitude.getOriginID());</span>
<span class="nc" id="L525">		magnitude.setPublicID(oldMagnitude.getPublicID());</span>
<span class="nc" id="L526">		magnitude.setStationCount(oldMagnitude.getStationCount());</span>
<span class="nc" id="L527">		magnitude.setType(oldMagnitude.getType());</span>
<span class="nc" id="L528">		return magnitude;</span>
	}

	/**
	 * Create a copy of a focal mechanism object.
	 *
	 * omits anies, other attributes.
	 *
	 * @param oldMech
	 * @return a new FocalMechanism object.
	 */
	public static FocalMechanism shallowClone(final FocalMechanism oldMech) {
<span class="nc" id="L540">		FocalMechanism mech = new FocalMechanism();</span>
<span class="nc" id="L541">		mech.setAzimuthalGap(oldMech.getAzimuthalGap());</span>
<span class="nc" id="L542">		mech.getComments().addAll(oldMech.getComments());</span>
<span class="nc" id="L543">		mech.setCreationInfo(oldMech.getCreationInfo());</span>
<span class="nc" id="L544">		mech.setDataid(oldMech.getDataid());</span>
<span class="nc" id="L545">		mech.setDatasource(oldMech.getDatasource());</span>
<span class="nc" id="L546">		mech.setEvaluationMode(oldMech.getEvaluationMode());</span>
<span class="nc" id="L547">		mech.setEvaluationStatus(oldMech.getEvaluationStatus());</span>
<span class="nc" id="L548">		mech.setEventid(oldMech.getEventid());</span>
<span class="nc" id="L549">		mech.setEventsource(oldMech.getEventsource());</span>
<span class="nc" id="L550">		mech.setMethodID(oldMech.getMethodID());</span>
<span class="nc" id="L551">		mech.setMisfit(oldMech.getMisfit());</span>
<span class="nc" id="L552">		mech.setMomentTensor(oldMech.getMomentTensor());</span>
<span class="nc" id="L553">		mech.setNodalPlanes(oldMech.getNodalPlanes());</span>
<span class="nc" id="L554">		mech.setPrincipalAxes(oldMech.getPrincipalAxes());</span>
<span class="nc" id="L555">		mech.setPublicID(oldMech.getPublicID());</span>
<span class="nc" id="L556">		mech.setStationDistributionRatio(oldMech.getStationDistributionRatio());</span>
<span class="nc" id="L557">		mech.setStationPolarityCount(oldMech.getStationPolarityCount());</span>
<span class="nc" id="L558">		mech.setTriggeringOriginID(oldMech.getTriggeringOriginID());</span>
<span class="nc" id="L559">		mech.getWaveformIDs().addAll(oldMech.getWaveformIDs());</span>
<span class="nc" id="L560">		return mech;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>